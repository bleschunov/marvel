"use strict";(self.webpackChunkmarvel=self.webpackChunkmarvel||[]).push([[921],{7244:function(t,n,e){e.d(n,{Z:function(){return s}});var r=e(7477),a=e(65),c=e(184),s=function(t){var n=t.className;return(0,c.jsx)("section",{className:"appBanner ".concat(n),children:(0,c.jsxs)("div",{className:"appBanner__flex",children:[(0,c.jsx)("img",{src:r,alt:"avengers",className:"appBanner__avengers"}),(0,c.jsxs)("h2",{className:"appBanner__header",children:["New comics every week! ",(0,c.jsx)("br",{}),"Stay tuned!"]}),(0,c.jsx)("img",{src:a,alt:"avengers logo",className:"appBanner__avengersLogo"})]})})}},9661:function(t,n,e){e.d(n,{Z:function(){return c}});var r=e(3535),a=e(184),c=function(t){return(0,a.jsx)("img",{src:r,alt:"error",className:"error ".concat(t.className)})}},4921:function(t,n,e){e.r(n),e.d(n,{default:function(){return d}});var r=e(4270),a=e(7244),c=e(2982),s=e(885),i=e(3504),o=e(2791),u=e(6674),p=e(5660),l=e(8813),f=e(5257),h=(e(2290),e(184)),m=function(t){var n=(0,o.useState)([]),e=(0,s.Z)(n,2),r=e[0],a=e[1],m=(0,o.useState)(1e3),d=(0,s.Z)(m,2),x=d[0],g=d[1],v=(0,o.useState)(!1),b=(0,s.Z)(v,2),w=b[0],j=b[1],_=(0,l.Z)(),Z=_.process,N=_.getComics;function k(t){N(t,x).then((function(n){return function(t,n){a((function(n){return[].concat((0,c.Z)(n),(0,c.Z)(t))})),g((function(t){return t+n})),j(t.length<8)}(n,t)}))}(0,o.useEffect)((function(){return k(8)}),[]);return(0,h.jsxs)("section",{className:"comicList ".concat(t.className),children:[(0,h.jsx)("div",{className:"comicList__grid",children:(0,h.jsx)(p.Z,{component:null,children:function(t){return t.map((function(t){var n=t.id,e=t.price,r=t.thumbnail,a=t.title;return(0,h.jsx)(u.Z,{timeout:500,classNames:"comicList__card",children:(0,h.jsx)("li",{tabIndex:"0",className:"comicList__card",children:(0,h.jsxs)(i.rU,{to:"".concat(n),children:[(0,h.jsx)("img",{src:r,className:"comicList__img",alt:a}),(0,h.jsx)("h3",{className:"comicList__header",children:a}),(0,h.jsx)("div",{className:"comicList__price",children:e})]})})},n)}))}(r)})}),(0,h.jsx)("div",{className:"comicList__footer",children:(0,f.Z)(Z,(function(){return w?null:(0,h.jsx)("button",{onClick:function(){return k(8)},className:"button button_red button_long",children:"load more"})}))})]})},d=function(){return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)(r.Z,{children:[(0,h.jsx)("meta",{name:"description",content:"List of comics"}),(0,h.jsx)("title",{children:"Comics"})]}),(0,h.jsx)(a.Z,{className:"app__appBanner"}),(0,h.jsx)(m,{className:"app_comicList"})]})}},8813:function(t,n,e){e.d(n,{Z:function(){return l}});var r=e(5861),a=e(7757),c=e.n(a),s=e(3329),i=e.n(s),o=e(885),u=e(2791),p=function(){var t=(0,u.useState)("waiting"),n=(0,o.Z)(t,2),e=n[0],a=n[1];function s(){return(s=(0,r.Z)(c().mark((function t(n){var e;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a("fetching"),t.prev=1,t.next=4,fetch(n);case 4:if((e=t.sent).ok||404===e.status){t.next=7;break}throw new Error("Could not fetch ".concat(n,", status is ").concat(e.status));case 7:return a("waiting"),t.next=10,e.json();case 10:return t.abrupt("return",t.sent);case 13:t.prev=13,t.t0=t.catch(1),console.log(t.t0),a("error");case 17:case"end":return t.stop()}}),t,null,[[1,13]])})))).apply(this,arguments)}return{getResource:function(t){return s.apply(this,arguments)},process:e}},l=function(){var t=p(),n=t.getResource,e=t.process,a="https://gateway.marvel.com:443/v1/public/",s="501c32c8096d96aabefe16305a1b4371",o=i()("1cf3a965c94a82a96ab36e31940ad7a43fba9af96"+s),u="?apikey=".concat(s,"&ts=").concat("1","&hash=").concat(o);function l(){return(l=(0,r.Z)(c().mark((function t(e){var r;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n("".concat(a,"characters/").concat(e+u));case 2:return r=t.sent,t.abrupt("return",v(r.data.results[0]));case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function f(){return(f=(0,r.Z)(c().mark((function t(e){var r;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n("".concat(a,"characters?name=").concat(e,"&apikey=").concat(s));case 2:if(!(r=t.sent).data.results[0]){t.next=7;break}return t.abrupt("return",v(r.data.results[0]));case 7:throw new Error;case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function h(){return m.apply(this,arguments)}function m(){return(m=(0,r.Z)(c().mark((function t(){var e,r;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=Math.floor(400*Math.random()+1011e3),t.prev=1,t.next=4,n("".concat(a,"characters/").concat(e+u));case 4:if(404!==(r=t.sent).code){t.next=7;break}throw new Error("The character with id ".concat(e," does not exist"));case 7:return t.abrupt("return",v(r.data.results[0]));case 10:return t.prev=10,t.t0=t.catch(1),t.next=14,h();case 14:return t.abrupt("return",t.sent);case 15:case"end":return t.stop()}}),t,null,[[1,10]])})))).apply(this,arguments)}function d(){return(d=(0,r.Z)(c().mark((function t(e,r){var s;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n("".concat(a,"characters").concat(u,"&limit=").concat(e,"&offset=").concat(r));case 2:return s=t.sent,t.abrupt("return",s.data.results.map((function(t){return v(t)})));case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function x(){return(x=(0,r.Z)(c().mark((function t(e){var r;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n("".concat(a,"comics/").concat(e+u));case 2:return r=t.sent,t.abrupt("return",b(r.data.results[0]));case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function g(){return(g=(0,r.Z)(c().mark((function t(e,r){var s;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n("".concat(a,"comics").concat(u,"&limit=").concat(e,"&offset=").concat(r));case 2:return s=t.sent,t.abrupt("return",s.data.results.map((function(t){return b(t)})));case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function v(t){var n=t.id,e=t.name,r=t.description,a=t.thumbnail,c=t.urls,s=t.comics;return r=r.length>230?r.slice(0,228)+"...":r,{id:String(n),name:e,description:r||"Description is not available :(",thumbnail:a.path+"."+a.extension,homepage:c[0].url,wiki:c[0].url,comics:s.items}}function b(t){var n=t.id,e=t.title,r=t.prices,a=t.thumbnail,c=t.description,s=t.textObjects,i=t.pageCount;return{id:String(n),price:r[0].price+"$",description:c||"Description is not available :(",language:s.language?"Language: "+s.language:null,thumbnail:a.path+"."+a.extension,title:e,pageCount:i?i+" pages":null}}return{process:e,getCharacter:function(t){return l.apply(this,arguments)},getCharacterByName:function(t){return f.apply(this,arguments)},getRandomCharacter:h,getCharacters:function(t,n){return d.apply(this,arguments)},getComic:function(t){return x.apply(this,arguments)},getComics:function(t,n){return g.apply(this,arguments)}}}},5257:function(t,n,e){var r=e(8683),a=e(108),c=e(9661),s=e(184);n.Z=function(t,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;switch(t){case"waiting":return(0,s.jsx)(n,(0,r.Z)({},e));case"fetching":return(0,s.jsx)(a.Z,{});case"error":return(0,s.jsx)(c.Z,{})}}},2290:function(){},3535:function(t,n,e){t.exports=e.p+"static/media/error.42292aa12b6bc303ce99.gif"},7477:function(t,n,e){t.exports=e.p+"static/media/avengers.6765421c66604107f0dc.png"},65:function(t,n,e){t.exports=e.p+"static/media/avengersLogo.b9c2d086aa5e4db820db.png"}}]);
//# sourceMappingURL=921.d79df5be.chunk.js.map